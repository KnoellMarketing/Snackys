function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],window.dataLayerGTM=window.dataLayerGTM||[],function(){"use strict";$.snacky&&!$.snacky.analytics&&($.snacky.analytics={});var e=function(){};e.prototype={data:{tagmanager:!1,analyticsId:!1,galleryPreviews:4},load:function(){this.addListener(),$.snacky.data.config.analytics&&(this.setId($.snacky.data.config.analytics),this.loadLib(),this.basics()),$.snacky.data.config.tagmanager&&(this.tagmanager=$.snacky.data.config.tagmanager,this.addTagManager())},addTagManager:function(e,a,c,t,n){window.dataLayerGTM.push({"gtm.start":(new Date).getTime(),event:"gtm.js"});$.ajax({url:"https://www.googletagmanager.com/gtm.js?id="+this.tagmanager+"&l=dataLayerGTM",dataType:"script",async:!0})},setId:function(e){this.analyticsId=e},loadLib:function(){$.ajax({url:"https://www.googletagmanager.com/gtag/js?id="+this.analyticsId,dataType:"script",async:!0})},basics:function(){gtag("config",this.analyticsId),$.snacky.data.config.analytics2&&gtag("config",$.snacky.data.config.analytics2),$.snacky.data.config.analytics3&&gtag("config",$.snacky.data.config.analytics3),$.snacky.data.config.analytics4&&gtag("config",$.snacky.data.config.analytics4),$.snacky.data.config.analytics5&&gtag("config",$.snacky.data.config.analytics5)},getElementAttrs:function(e){for(var a=new Array,c=0;c<e.attributes.length;c++)a.push({name:e.attributes[c].name,value:e.attributes[c].value});return a},addListener:function(){for(var e,a=document.querySelectorAll("[gtag-event]"),c=0;c<a.length;c++)"start"==(e=a[c].getAttribute("gtag-type"))?this.callEvent(a[c]):0!=e&&a[c].addEventListener(e,$.snacky.analytics.callEventByListener)},callEventByListener:function(e){$.snacky.analytics.callEvent(this)},callEvent:function(e){try{var a,c,t=this.getElementAttrs(e),n=new Object,r=!1;for(a in t)if("gtag-event"==t[a].name)r=t[a].value;else if("gtag-p-"==t[a].name.substr(0,7)){if("["==(c=t[a].value).substr(0,1))for(var s in c=JSON.parse(c))for(var o in c[s])"selectorval:"==c[s][o].substr(0,12)?c[s][o]=document.querySelector(c[s][o].substr(12)).value:"selectorhtml:"==c[s][o].substr(0,13)&&(c[s][o]=document.querySelector(c[s][o].substr(13)).innerHTML);n[t[a].name.substr(7)]=c}if($.snacky.data.config.analytics&&gtag("event",r,n),$.snacky.data.config.tagmanager){var i=new Object;switch(r){case"view_item_list":i.ecommerce=new Object,i.ecommerce.currencyCode=n.currency,i.ecommerce.impressions=n.items;break;case"view_item":i.ecommerce=new Object,i.ecommerce.detail=new Object,i.ecommerce.detail.products=n.items;break;case"add_to_cart":i.ecommerce=new Object,i.event="addToCart",i.ecommerce.currencyCode=n.currency,i.ecommerce.add=new Object,i.ecommerce.add.products=n.items;break;case"remove_from_cart":i.ecommerce=new Object,i.event="removeFromCart",i.ecommerce.currencyCode=n.currency,i.ecommerce.removeFromCart=new Object,i.ecommerce.removeFromCart.products=n.items;break;case"begin_checkout":i.ecommerce=new Object,i.event="checkout",i.ecommerce.checkout=new Object,i.ecommerce.checkout.step=1,i.ecommerce.checkout.products=n.items;break;case"checkout_progress":i.ecommerce=new Object,i.event="checkout",i.ecommerce.checkout=new Object,i.ecommerce.checkout.step=parseInt(n.checkout_step)+1,i.ecommerce.checkout.products=n.items;break;case"purchase":i.ecommerce=new Object,i.ecommerce.purchase=new Object,i.ecommerce.purchase.products=n.items,i.ecommerce.purchase.actionField=new Object,i.ecommerce.purchase.actionField.id=n.transaction_id,i.ecommerce.purchase.actionField.tax=n.tax,i.ecommerce.purchase.actionField.shipping=n.shipping,i.ecommerce.purchase.actionField.revenue=n.value,n.coupon&&(i.ecommerce.purchase.actionField.coupon=n.coupon);default:(i=n).event=r}window.dataLayerGTM.push(i)}}catch(e){console.log(e)}}},$.snacky.analytics=new e,$.snacky.start($.snacky.analytics)}(jQuery);